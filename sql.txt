SHOW DATABASES;
CREATE DATABASE STUDENT; 
USE STUDENT;

   CREATE TABLE STUDENTS (
   ID INT NOT NULL,
   CELL_ID INT,
   NAME VARCHAR (20) NOT NULL,
   AGE INT NOT NULL,
   ADDRESS CHAR (25),
   PRIMARY KEY (ID)
   FOREIGN KEY(DEPT_ID) REFERENECES DEPARTMENT(DEPT_ID) ON DELETE SET NULL
   );

CREATE TABLE DEPARTMENT(
 DEPT_ID INT NOT NULL PRIMARY KEY,
 DEPT_NAME VARCHAR(40),
 CGPA INT
);

 INSERT INTO STUDENTS VALUES(200,100,'Aswin',21,'INDIRA GANDHI STREET');
 INSERT INTO STUDENTS VALUES(210,200,'Vishal',28,'NEHRU NAGAR MOGAPPAIR WEST');
 INSERT INTO STUDENTS VALUES(265,300,'Vivin',24,'AMMAN NAGAR HOSUR');
 INSERT INTO STUDENTS VALUES(238,400,'Rajesh',22,'HSR LAYOUT BANGALORE');
 INSERT INTO STUDENTS VALUES(216,200,'Kiruba',25,'SOUTH MASI STREET MADURAI');
 INSERT INTO STUDENTS VALUES(205,300,'Ravi',16,'RS PURAM COIMBATORE');

INSERT INTO DEPARTMENT VALUES(100,'CSE',70);
INSERT INTO DEPARTMENT VALUES(200,'ECE',88);
INSERT INTO DEPARTMENT VALUES(300,'EEE',84);
INSERT INTO DEPARTMENT VALUES(400,'MECH',65);

SELECT * FROM STUDENTS;
SELECT * FROM DEPARTMENT;

//UPDATING THE ADDRESS OF THE STUDENT NAMED ASWIN.
UPDATE STUDENT
SET ADDRESS = 'KARPAGAM GARDENS ADYAR CHENNAI'
WHERE ID = 2;

//CHANGE THE NAME OF THE STUDENT TABLE TO STUDENT_DETAILS.
ALTER TABLE STUDENT
RENAME TO STUDENT_DETAILS;

//ADD A NEW COLOUMN NAMED GENDER INTO THE STUDENT_DETAILS TABLE.
ALTER TABLE STUDENT_DETAILS
ADD GENDER VARCHAR(20);

//UPDATE THE AGE OF THE STUDENT NAMED KIRUBA IN THE STUDENT_DETAILS TABLE.
UPDATE STUDENT_DETAILS
SET AGE = 30
WHERE ID = 216;

//DISPLAY ALL THE STUDENTS AGE IN THE DESCENDING ORDER.
SELECT * FROM STUDENT_DETAILS ORDER BY AGE DESC;

//USING LIMIT FUNCTION TO LIMIT THE THE NUMBER OF STUDENTS TO DIAPLAY.
SELECT * FROM STUDENT_DETAILS
LIMIT 5;

//DISPLAYING THE NAME OF ALL THE STUDENTS
SELECT NAME FROM STUDENT_DETAILS;

//USING AGGREGATE FUNCTIONS TO FIND THE COUNT OF THE STUDENTS FROM STUDENT_DETAILS TABLE
SELECT COUNT(ID) FROM STUDENT_DETAILS;

//DISPLAY THE AVERAGE OF CGPA'S FROM DEPARTMENT TABLE.
SELECT AVG(CGPA) FROM DEPARTMENT;

//DISPLAY THE DEPARTMENT ID OF MAXIMUM CGPA
SELECT MAX(CGPA) FROM DEPARTMENT;


//LIST ALL THE STUDENT DETAILS WHOSE STUDENTS NAME WHOSE SECOND CHARACTER IS 'I'.
SELECT * FROM STUDENT_DETAILS WHERE NAME LIKE '_i%';

//USE INNER JOINS TO PERFORM A JOIN OPERATION ON STUDENT_DETAILS AND DEPARTMENT TABLES.
SELECT STUDENT_DETAILS.ID,STUDENT_DETAILS.NAME,DEPARTMENT.DEPT_NAME FROM STUDENT_DETAILS JOIN DEPARTMENT ON STUDENT_DETAILS.CELL_ID = DEPARTMENT.DEPT_ID;

//TRIGGERS
DELIMITER $$
CREATE TRIGGER my_trigger BEFORE 
INSERT ON STUDENT_dETAILS
FOR EACH ROW BEGIN 
INSERT INTO trigger_test VALUES
('added new student into student_details');
DELIMITER:

//CREATING VIEWS 
CREATE VIEW STUDENT_INFO AS 
SELECT * FROM STUDENT_DETAILS WHERE AGE > 15;
SELECT * FROM STUDENT_INFO;

//DROPPING VIEWS 
DROP VIEW STUDENT_INFO;

//DROPPING THE DATABASE
DROP DATABASE STUDENT;











 


